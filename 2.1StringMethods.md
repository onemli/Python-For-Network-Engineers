When automating, very often it will be necessary to work with strings, since config file, command output and commands sent - are strings. Knowledge of various methods (actions) that can be applied to strings helps to work with them more efficiently.

 Strings are immutable data type, so all methods that convert string returns a new string and the original string remains unchanged.

 

### upper(), lower(), swapcase(), capitalize(), title() Methods



Methods `upper()`, `lower()`, `swapcase()`, `capitalize()`, `title()` perform string case conversion:

```
interface = 'interface GigabitEthernet1/0'

print(interface.lower())
print(interface.upper())
print(interface.swapcase())
print(interface.capitalize())
print(interface.title())
```

**Output:**

```
interface gigabitethernet1/0
INTERFACE GIGABITETHERNET1/0
INTERFACE gIGABITeTHERNET1/0
Interface gigabitethernet1/0
Interface Gigabitethernet1/0
```



It is very important to pay attention to the fact that methods often return the converted string. And, therefore, we must not forget to assign it to some variable (you can use the same).

```
interface = interface.upper()
print(interface)
```

**Output:**

```
INTERFACE GIGABITETHERNET1/0
```




### count() Method



Method count() used to count how many times a character or substring occurs in a string:

```
motd = 'Welcome welcome Welcome welcome Welcome'

print(motd.count('Welcome'))
print(motd.count('come'))
```

**Output:**

```
3
5
```




### find() Method

 

You can pass a substring or character to find() and it will return the lowest index where first character of the substring is (for the first match):

```
interface = 'interface GigabitEthernet1/0'

print(interface.find('Gigabit'))
print(interface[interface.find('Gigabit'):])
```

**Output:**

```
10
GigabitEthernet1/0
```


***Info:***

*If no match is found, find() method returns -1.*

 

### startswith() and endswith() Methods



Checking if a string starts or ends with certain symbols (methods startswith(), endswith()):

```
interface = 'GigabitEthernet1/0'

print(interface.startswith('Gigabit'))
print(interface.startswith('Fast'))
print(interface.endswith('1/0'))
print(interface.endswith('ethernet'))
```

**Output:**

```
True
False
True
False
```




### replace() Method

 

Replacing a sequence of characters in a string with another sequence (method replace):

```
interface = 'GigabitEthernet1/0'

print(interface.replace('Gigabit', 'Fast'))
```

**Output:**

```
FastEthernet1/0
```




### strip() Method

 

Often when a file is processed, the file is opened line by line. But at the end of each line, there are usually some special characters (and may be at the beginning). For example, new line character.

 

To get rid of them, it is very convenient to use method strip():

```
interface = '\n\tinterface GigabitEthernet1/0\n'

print(interface)
print(50*'-')
print(interface.strip())
```

**Output:**

```
interface GigabitEthernet1/0
--
interface GigabitEthernet1/0
```




By default, strip method removes blank characters. This character set includes: `\t`, `\n`, `\r`, `\f`, `\v`

Method `strip()` can be passed as an argument of any characters. Then at the beginning and at the end of the line all characters that were specified in the line will be removed:

```
ad_metric = '[110/1045]'

print(ad_metric.strip('[]'))
```

**Output:**

```
110/1045
```




Method `strip()` removes special characters at the beginning and at the end of the line. If you want to remove characters only on the left or only on the right, you can use `lstrip()` and `rstrip()`.

 

### split() Method

Method `split()` splits the string using a symbol (or symbols) as separator and returns a list of strings:

```
config = 'switchport trunk allowed vlan 10,20,30,100-200'
commands = config.split()

print(commands_list)
```

**Output**

```
['switchport', 'trunk', 'allowed', 'vlan', '10,20,30,100-200']
```




In example above, `config.split` splits the string by spaces and returns a list of strings. The list is saved to commands variable.

By default, separator is a space symbol (spaces, tabs, new line), but you can specify any separator in parentheses:

```
vlans = commands[-1].split(',')

print(vlans)
```

**Output:**

```
['10', '20', '30', '100-200']
```




In commands list, the last element is a string with vlans, so the index -1 is used. Then string is split into parts using split `commands[-1].split(',')`. Since separator is a comma, this list is received `['10','20','30','100-200']`.

 

A useful feature of split method with default separator is that the string is not only split into a list of strings by whitespace characters, but the whitespace characters are also removed at the beginning and at the end of the line:

```
config = ' switchport trunk allowed vlan 10,20,30,100-200\n\n'

print(config.split())
```

**Output:**

```
['switchport', 'trunk', 'allowed', 'vlan', '10,20,30,100-200']
```




Method split has another good feature: by default, method splits a string not by one whitespace character, but by any number. For example, this will be very useful when processing show commands:

```
sh_ip_int_br = "FastEthernet0/0    15.0.15.1  YES manual up     up"

print(sh_ip_int_br.split())
```

**Output:**

```
['FastEthernet0/0', '15.0.15.1', 'YES', 'manual', 'up', 'up']
```



 

And this is the same string when one space is used as the separator:

```
sh_ip_int_br = "FastEthernet0/0    15.0.15.1  YES manual up     up"

print(sh_ip_int_br.split(' '))
```

**Output:**

```
['FastEthernet0/0', '', '', '', '', '', '', '15.0.15.1', '', '', '', 'YES', 'manual', 'up', '', '', '', '', '', '', '', '', 'up']
```

 

 

